# NFR Requirements - Backend

**Unit**: backend
**작성일**: 2026-02-09

---

## 1. 성능 요구사항 (Performance)

### NFR-PERF-001: 응답 시간
- **목표**: 평균 100ms 이하
- **측정**: API 엔드포인트별 응답 시간
- **적용**: 모든 REST API

### NFR-PERF-002: 실시간 알림 지연
- **목표**: 2초 이내
- **측정**: 주문 생성 → SSE 이벤트 수신 시간
- **적용**: SSE 스트리밍

### NFR-PERF-003: 데이터베이스 쿼리
- **목표**: N+1 쿼리 방지
- **방법**: SQLAlchemy joinedload/selectinload 사용
- **적용**: 관계 데이터 조회

---

## 2. 확장성 요구사항 (Scalability)

### NFR-SCALE-001: 동시 사용자
- **목표**: 50-200명 동시 접속
- **구성**: 단일 EC2 인스턴스 (MVP)
- **향후**: ALB + Auto Scaling 고려

### NFR-SCALE-002: SSE 연결
- **목표**: 매장당 최대 10개 관리자 연결
- **방법**: 비동기 연결 관리 (asyncio)

---

## 3. 가용성 요구사항 (Availability)

### NFR-AVAIL-001: 세션 유지
- **목표**: 16시간 세션 유효
- **방법**: JWT 토큰 만료 시간 설정
- **재로그인**: 저장된 정보로 자동 재인증

### NFR-AVAIL-002: 에러 복구
- **목표**: 명확한 에러 메시지 반환
- **방법**: 표준화된 에러 응답 형식
- **로깅**: 주요 에러 로깅

---

## 4. 보안 요구사항 (Security)

### NFR-SEC-001: 인증
- **방법**: JWT 토큰 기반
- **알고리즘**: HS256
- **만료**: 16시간

### NFR-SEC-002: 비밀번호 저장
- **방법**: bcrypt 해싱
- **라운드**: 12

### NFR-SEC-003: 통신 보안
- **방법**: HTTPS (프로덕션)
- **CORS**: 허용 도메인 제한

### NFR-SEC-004: 입력 검증
- **방법**: Pydantic 스키마 검증
- **적용**: 모든 API 입력

---

## 5. 데이터 관리 요구사항 (Data)

### NFR-DATA-001: 데이터 보관
- **기간**: 6개월
- **대상**: 주문 이력

### NFR-DATA-002: 백업
- **주기**: 일일 자동 백업 (RDS)
- **보관**: 7일

### NFR-DATA-003: 이미지 저장
- **위치**: AWS S3
- **접근**: Public URL

---

## 6. 운영 요구사항 (Operations)

### NFR-OPS-001: 로깅
- **레벨**: INFO (프로덕션), DEBUG (개발)
- **형식**: JSON 구조화 로그
- **저장**: 파일 또는 CloudWatch

### NFR-OPS-002: 헬스체크
- **엔드포인트**: GET /health
- **응답**: 200 OK + 상태 정보

### NFR-OPS-003: 환경 설정
- **방법**: 환경 변수
- **관리**: .env 파일 (개발), 환경 변수 (프로덕션)
